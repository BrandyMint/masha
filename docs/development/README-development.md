# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

## –í–∞–∂–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Telegram

üö® **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û**: –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫ –≤ Telegram –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–Ω—ã —É–≤–µ–¥–æ–º–ª—è—Ç—å Bugsnag.

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: [telegram-error-handling.md](./telegram-error-handling.md)

### –ö—Ä–∞—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞:

1. **–í–∫–ª—é—á–∞–µ–º –º–æ–¥—É–ª—å**: `include Telegram::ErrorHandling`
2. **–ü—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ**: `notify_bugsnag(e)`
3. **–î–æ–±–∞–≤–ª—è–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```ruby
rescue StandardError => e
  notify_bugsnag(e) do |b|
    b.user = current_user
    b.meta_data = { command: args[0] }
  end
  respond_with :message, text: '–û—à–∏–±–∫–∞'
end
```

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

RuboCop –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ `notify_bugsnag` –≤ rescue –±–ª–æ–∫–∞—Ö:

```bash
bundle exec rubocop app/controllers/telegram/
```

## –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–∏ Code Review

- [ ] –í—Å–µ `rescue` –±–ª–æ–∫–∏ –∏–º–µ—é—Ç `notify_bugsnag(e)`
- [ ] –ú–æ–¥—É–ª—å `Telegram::ErrorHandling` –ø–æ–¥–∫–ª—é—á–µ–Ω
- [ ] –ï—Å—Ç—å –ø–æ–ª–µ–∑–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏