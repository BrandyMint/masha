# –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ —Å FactoryBot –Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ fixtures

## üìä –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **Rails 8** —Å PostgreSQL
- **FactoryBot** —Å DatabaseCleaner (—Å—Ç—Ä–∞—Ç–µ–≥–∏—è truncation)
- **config.use_transactional_fixtures = false**
- **302 –≤—ã–∑–æ–≤–∞ `create()`** –≤ 29 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–∞—Ö
- **10 factories** –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **DatabaseCleaner.truncation**: –ø–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –ë–î –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
- **–ö–∞–∂–¥—ã–π `create()`**: INSERT + –≤–∞–ª–∏–¥–∞—Ü–∏–∏ + –∫–æ–º–º–∏—Ç
- **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∞**: 100-500ms
- **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ**: 5-20x

## üéØ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥

### –ß—Ç–æ —É—Ö–æ–¥–∏—Ç –≤ Fixtures
- **–ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** (admin, regular_user, with_telegram)
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã** —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏ (owner, watcher, participant)
- **Telegram users** —Å –±–∞–∑–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–ö–ª–∏–µ–Ω—Ç—ã** –∏ —Ç–∏–ø–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã
- **–ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

### –ß—Ç–æ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ Factories
- **–°–ª–æ–∂–Ω—ã–µ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏** –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –æ—Ç—á–µ—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥—ã)
- **Edge cases** –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
- **Telegram webhook** —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏

## üìã –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ê–Ω–∞–ª–∏–∑ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (2-3 –¥–Ω—è)

#### –ó–∞–¥–∞—á–∏:
1. **–°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–±—Ä–∏–∫**
   ```ruby
   # lib/tasks/analyze_factories.rake
   # –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å: –∫–∞–∫–∏–µ factory –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —á–∞—â–µ –≤—Å–µ–≥–æ
   # –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è, –∫–∞–∫–∏–µ —Ç—Ä–µ–π—Ç—ã –ø–æ–ø—É–ª—è—Ä–Ω—ã
   ```

2. **–í—ã—è–≤–∏—Ç—å –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–∞–Ω–Ω—ã—Ö**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º –∏ membership
   - Telegram webhook —Å—Ü–µ–Ω–∞—Ä–∏–∏
   - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è –æ—Ç—á–µ—Ç–æ–≤

3. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –¥–ª—è fixtures**
   - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è 80% —Ç–µ—Å—Ç–æ–≤
   - –¢–∏–ø–æ–≤—ã–µ –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–∏ –∏ —Å–≤—è–∑–∏

#### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- –û—Ç—á–µ—Ç –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é factories
- –°–ø–∏—Å–æ–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ –¥–ª—è fixtures
- –ö–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏

### –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ Fixtures (3-4 –¥–Ω—è)

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
```
spec/fixtures/
‚îú‚îÄ‚îÄ users.yml
‚îú‚îÄ‚îÄ projects.yml
‚îú‚îÄ‚îÄ memberships.yml
‚îú‚îÄ‚îÄ telegram_users.yml
‚îú‚îÄ‚îÄ time_shifts.yml
‚îú‚îÄ‚îÄ clients.yml
‚îî‚îÄ‚îÄ invites.yml
```

#### –ü–ª–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è:

**users.yml**
```yaml
admin:
  name: Admin User
  email: admin@example.com
  nickname: admin
  is_root: true

regular_user:
  name: Regular User
  email: user@example.com
  nickname: regular
  is_root: false

user_with_telegram:
  name: Telegram User
  email: tg@example.com
  nickname: telegram_user
  telegram_user_id: 123456789
```

**projects.yml**
```yaml
work_project:
  name: Work Project
  slug: work-project
  active: true

personal_project:
  name: Personal Project
  slug: personal-project
  active: true

inactive_project:
  name: Inactive Project
  slug: inactive-project
  active: false
```

**memberships.yml**
```yaml
admin_work:
  user: admin
  project: work_project
  role: owner

regular_work:
  user: regular_user
  project: work_project
  role: participant
```

**telegram_users.yml**
```yaml
telegram_admin:
  id: 123456789
  username: admin_user
  first_name: Admin
  last_name: User

telegram_regular:
  id: 987654321
  username: regular_user
  first_name: Regular
  last_name: User
```

#### Helper –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
```ruby
# spec/support/fixture_helpers.rb
module FixtureHelpers
  def create_time_shift_with_project(user, project, hours = 1)
    TimeShift.create!(
      user: user,
      project: project,
      hours: hours,
      date: Date.current,
      description: 'Test time shift'
    )
  end

  def setup_telegram_webhook_context(user)
    allow(controller).to receive(:current_user).and_return(user)
  end
end
```

### –≠—Ç–∞–ø 3: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã (1 –¥–µ–Ω—å)

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `spec/spec_helper.rb`:

```ruby
RSpec.configure do |config|
  # –í–∫–ª—é—á–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ fixtures
  config.use_transactional_fixtures = true

  # –£–¥–∞–ª–∏—Ç—å DatabaseCleaner
  # config.before(:each) do
  #   DatabaseCleaner.start
  # end
  # config.after(:each) do
  #   DatabaseCleaner.clean
  # end

  # –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É fixtures
  config.global_fixtures = :all

  # –û—Å—Ç–∞–≤–∏—Ç—å factories –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
  config.include FactoryBot::Syntax::Methods
end
```

#### –°–æ–∑–¥–∞–Ω–∏–µ `spec/support/database_cleaner.rb` (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤):
```ruby
# –¢–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –≥–¥–µ –Ω—É–∂–Ω—ã –Ω–µ-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
require 'database_cleaner/active_record'

RSpec.configure do |config|
  config.before(:suite) do
    DatabaseCleaner.clean_with(:truncation)
  end

  config.before(:each, js: true) do
    DatabaseCleaner.strategy = :truncation
  end

  config.before(:each, type: :system) do
    DatabaseCleaner.strategy = :truncation
  end

  config.before(:each) do
    DatabaseCleaner.strategy = :transaction
  end

  config.before(:each) do
    DatabaseCleaner.start
  end

  config.append_after(:each) do
    DatabaseCleaner.clean
  end
end
```

### –≠—Ç–∞–ø 4: –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ (5-7 –¥–Ω–µ–π)

#### –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤:

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã (1-2 –¥–Ω—è)**
- –ú–æ–¥–µ–ª—å —Ç–µ—Å—Ç—ã –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –∞—Å—Å–æ—Ü–∏–∞—Ü–∏–π
- –ë–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ç–µ—Å—Ç—ã
- –°–µ—Ä–≤–∏—Å —Ç–µ—Å—Ç—ã —Å –ø—Ä–æ—Å—Ç—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–ü—Ä–∏–º–µ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏:**
```ruby
# –ë—ã–ª–æ:
let(:user) { create(:user) }
let(:project) { create(:project, :with_owner) }

# –°—Ç–∞–ª–æ:
let(:user) { users(:regular_user) }
let(:project) { projects(:work_project) }
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: Telegram webhook —Ç–µ—Å—Ç—ã (2-3 –¥–Ω—è)**
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è shared contexts
- –°–æ–∑–¥–∞–Ω–∏–µ fixture –Ω–∞–±–æ—Ä–æ–≤ –¥–ª—è webhook —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ helper –º–µ—Ç–æ–¥–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –°–ª–æ–∂–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (2 –¥–Ω—è)**
- –¢–µ—Å—Ç—ã —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –û—Ç—á–µ—Ç—ã –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- Edge cases –∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã

#### –®–∞–±–ª–æ–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è telegram —Ç–µ—Å—Ç–æ–≤:
```ruby
# –ë—ã–ª–æ:
context 'authenticated user' do
  let(:user) { create(:user, :with_telegram) }
  let(:project) { create(:project) }
  before do
    create(:membership, project: project, user: user, role: :member)
  end
end

# –°—Ç–∞–ª–æ:
context 'authenticated user' do
  let(:user) { users(:user_with_telegram) }
  let(:project) { projects(:work_project) }
  # membership —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ fixtures
end
```

### –≠—Ç–∞–ø 5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –æ—á–∏—Å—Ç–∫–∞ (2-3 –¥–Ω—è)

#### –ó–∞–¥–∞—á–∏:
1. **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
   ```bash
   # –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –∏ –ø–æ—Å–ª–µ
   bundle exec rspec --profile 10
   ```

2. **–û—á–∏—Å—Ç–∫–∞ unused factories**
   - –£–¥–∞–ª–∏—Ç—å factories, –∫–æ—Ç–æ—Ä—ã–µ –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è factories
   - –î–æ–±–∞–≤–∏—Ç—å documentation

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**
   - –û–±–Ω–æ–≤–∏—Ç—å `docs/development/README.md`
   - –î–æ–±–∞–≤–∏—Ç—å –≥–∞–π–¥ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é fixtures
   - –û–±–Ω–æ–≤–∏—Ç—å `CLAUDE.md`

#### –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**: –º–∏–Ω–∏–º—É–º 30%
- **–°–Ω–∏–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏**: 20-30%
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è**: –±–µ–∑ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏
- **–ß–∏—Å—Ç—ã–π –∫–æ–¥**: –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ factories —É–¥–∞–ª–µ–Ω—ã

### –≠—Ç–∞–ø 6: –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (1-2 –¥–Ω—è)

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
```ruby
# spec/performance/fixture_performance_spec.rb
RSpec.describe 'Fixture Performance' do
  it 'loads fixtures within acceptable time' do
    start_time = Time.current
    # –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–∏–ø–∏—á–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
    end_time = Time.current

    expect(end_time - start_time).to be < 1.0 # 1 —Å–µ–∫—É–Ω–¥–∞
  end
end
```

#### –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–∏–ª–∞—Å—å
- –ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**: 30-50% (–≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –¥–æ 70%)
- **–°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –ë–î**: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–º–µ—Å—Ç–æ truncation
- **–°–Ω–∏–∂–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏**: –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- **–ë–æ–ª–µ–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**
- **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** –º–µ–∂–¥—É —Å—Ç–∞—Ç–∏—á–Ω—ã–º–∏ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ** –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–∏–±–∫–æ—Å—Ç–∏** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- **–Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** —á–µ—Ä–µ–∑ fixtures
- **–õ–µ–≥—á–µ —á–∏—Ç–∞—Ç—å** –ø—Ä–æ—Å—Ç—ã–µ —Ç–µ—Å—Ç—ã
- **–ë—ã—Å—Ç—Ä–µ–µ –ø–∏—Å–∞—Ç—å** –Ω–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ –±–∞–∑–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö

## üö® –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: –ü–æ—Ç–µ—Ä—è –≥–∏–±–∫–æ—Å—Ç–∏
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ factories –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- **–ü–ª–∞–Ω**: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞—Ç–∞

### –†–∏—Å–∫ 2: –°–ª–æ–∂–Ω–æ—Å—Ç—å fixtures
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ helper –º–µ—Ç–æ–¥—ã
- **–ü–ª–∞–Ω**: –ù–∞—á–∞—Ç—å —Å –ø—Ä–æ—Å—Ç—ã—Ö fixtures, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É—Å–ª–æ–∂–Ω—è—Ç—å

### –†–∏—Å–∫ 3: –•—Ä—É–ø–∫–∏–µ —Ç–µ—Å—Ç—ã
- **–ú–∏—Ç–∏–≥–∞—Ü–∏—è**: –Ø–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –º–µ–Ω—å—à–µ –º–∞–≥–∏–∏
- **–ü–ª–∞–Ω**: –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### Best practices:
- [Rails Testing Guide - Fixtures](https://guides.rubyonrails.org/testing.html#fixtures)
- [FactoryBot Best Practices](https://github.com/thoughtbot/factory_bot/wiki)
- [Database Cleaner vs Transactions](https://dev.to/aaron/using-databasecleaner-with-rspec-and-capybara-24o)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- `rspec-rails` –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ fixtures
- `test-prof` –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
- `spring` –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–æ–≤

---

## üìÖ Timeline

| –ù–µ–¥–µ–ª—è | –ó–∞–¥–∞—á–∏ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|--------|--------|-----------|
| 1 | –≠—Ç–∞–ø 1-2: –ê–Ω–∞–ª–∏–∑ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ fixtures | –ê–Ω–∞–ª–∏–∑ + –±–∞–∑–æ–≤—ã–µ fixtures |
| 2 | –≠—Ç–∞–ø 3-4: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –Ω–∞—á–∞–ª–æ –º–∏–≥—Ä–∞—Ü–∏–∏ | –†–∞–±–æ—Ç–∞—é—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| 3 | –≠—Ç–∞–ø 4: –û—Å–Ω–æ–≤–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ | –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ |
| 4 | –≠—Ç–∞–ø 5-6: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è | –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |

**–û–±—â–µ–µ –≤—Ä–µ–º—è**: 15-20 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π

---

*–ü–ª–∞–Ω –±—É–¥–µ—Ç –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã.*